{% extends "pdepbase.html" %}

{% block title %}Input Wizard for {{ network.title }}{% endblock %}

{% block navbar_items %}
<a href="{% url pdep.views.index %}">MEASURE</a> &raquo;
<a href="{% url pdep.views.networkIndex networkKey=networkKey %}">{{ network.title }}</a> &raquo;
<a href="{% url pdep.views.networkWizard networkKey=networkKey %}">Wizard</a> &raquo;
<a href="{% url pdep.views.networkWizardSpecies networkKey=networkKey %}">2. Define Reactions</a>
{% endblock %}

{% block sidebar_items %}
{% endblock %}

{% block page_title %}Input Wizard for {{ network.title }}{% endblock %}

{% block page_body %}

<h2>Step 2. Define the Reactions in the Network</h2>

<p class="instructions">
In the form below, please fill in each row with a unique reaction equation and 
the corresponding ground-state energy for each reaction in your network. If you
need additional rows, click the "Add more reactions" button. Leave extra rows 
blank.
</p>

<p class="instructions">
Once you have finished entering reactions, click "Next" to continue.
</p>

<form action="" method="POST">{% csrf_token %}
{{ formset.management_form }} 
<table>
    <tr>
        <th colspan="3">Reactants</th>
        <th></th>
        <th colspan="3">Products</th>
        <th>Ground-state energy</th>
    </tr>
{% for form in formset %}
    {% if form.non_field_errors %}
    <tr>
        <td colspan="3">{{ form.non_field_errors }}</td>
    </tr>
    {% endif %}
    {% if form.label.errors or form.structure.errors or form.E0.errors %}
    <tr>
        <td>{{ form.reactant1.errors }}</td>
        <td></td>
        <td>{{ form.reactant2.errors }}</td>
        <td></td>
        <td>{{ form.product1.errors }}</td>
        <td></td>
        <td>{{ form.product2.errors }}</td>
        <td>{{ form.E0.errors }}</td>
    </tr>
    {% endif %}
    <tr>
        <td>{{ form.reactant1 }}</td>
        <td>+</td>
        <td>{{ form.reactant2 }}</td>
        <td>&harr;</td>
        <td>{{ form.product1 }}</td>
        <td>+</td>
        <td>{{ form.product2 }}</td>
        <td>{{ form.E0 }}</td>
    </tr>
{% endfor %}
    <tr>
        <td colspan="3"><input type="submit" value="Add more reactions" id="submit" name="add_reactions"/></td>
    </tr>
</table>
<p><input type="submit" value="Back" id="submit" name="prev"/> <input type="submit" value="Next" id="submit" name="next"/></p>
</form>

{% endblock %}
